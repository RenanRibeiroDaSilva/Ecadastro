(this.webpackJsonpecadastro=this.webpackJsonpecadastro||[]).push([[0],{89:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(24),s=n.n(o),r=(n(77),n(70)),i=n(10),j=n(91),d=n(92),l=n(66),h=n(98),b=n(96),u=n(36),O=n(52),x=n(2),p=function(){return Object(x.jsxs)(h.a,{bg:"success",variant:"dark",children:[Object(x.jsxs)(h.a.Brand,{children:[" ",Object(x.jsx)("h1",{children:Object(x.jsxs)("b",{children:[Object(x.jsx)(O.a,{})," E-cadastro"]})})]}),Object(x.jsxs)(b.a,{className:"mr-auto",children:[Object(x.jsx)(b.a.Link,{href:"#/",children:Object(x.jsxs)("h4",{children:[Object(x.jsx)(u.b,{})," In\xedcio "]})}),Object(x.jsx)(b.a.Link,{href:"#/cadastrosFuncionarios",children:Object(x.jsxs)("h4",{children:[Object(x.jsx)(u.a,{})," Cadastro de Funcionarios "]})})]})]})},f=function(){return Object(x.jsx)(h.a,{bg:"dark",fixed:"bottom",children:Object(x.jsx)(h.a.Brand,{className:"text-light",children:Object(x.jsxs)("h5",{children:[Object(x.jsx)(O.a,{})," E-cadastro \xa9 - Todos os direito reservados."]})})})},m=function(){return Object(x.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(x.jsx)(p,{}),Object(x.jsx)(d.a,{children:Object(x.jsxs)(l.a,{xs:12,lg:6,children:[Object(x.jsx)("h1",{children:Object(x.jsx)("strong",{children:"Seja bem vindo ao E-cadastro!"})}),Object(x.jsx)("p",{children:Object(x.jsx)("h4",{children:"Fa\xe7a o cadastros de novos funcionario no menu acima!"})})]})}),Object(x.jsx)(f,{})]})},g=n(30),v=n.n(g),C=n(7),k=n(3),y=n(57),E=n(8),F=n(97),w=n(93),I=n(94),S=n(95),N=n(100),L=n(99),T=n(67),G=n(68),z=n(69),A="https://cadastro-funcionarios-gti.herokuapp.com",B=function(){var e={nome:"",idade:"",genero:"",profissao:"",status:!0},t=Object(a.useState)(e),n=Object(E.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)([]),r=Object(E.a)(s,2),i=r[0],h=r[1],b=Object(a.useState)(!1),O=Object(E.a)(b,2),m=O[0],g=O[1],B=Object(a.useState)({}),D=Object(E.a)(B,2),P=D[0],J=D[1],_=Object(a.useState)(""),H=Object(E.a)(_,2),M=H[0],q=H[1],R=Object(a.useState)(!1),U=Object(E.a)(R,2),K=U[0],Q=U[1],V=Object(a.useState)(!1),W=Object(E.a)(V,2),X=W[0],Y=W[1],Z=c.nome,$=c.idade,ee=c.genero,te=c.profissao,ne=c.status;function ae(){return ce.apply(this,arguments)}function ce(){return(ce=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),t="".concat(A,"/funcionarios"),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){h(e)})).catch((function(e){console.error("Erro ao obeter o cadastro dos funcionarios: "+e.message)}));case 4:g(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){ae(),document.title="Cadastro de Funcionarios"}),[]);var oe=function(){var e={};return Z&&""!==Z?Z.length>100?e.nome="O nome informado \xe9 muito grande!":Z.length<3&&(e.nome="O nome informado \xe9 muito curto!"):e.nome="O campo nome n\xe3o pode estar vazio!",$&&""!==$?$.length>3&&(e.idade="O campo idade n\xe3o pode ser maior que 999!"):e.idade="O campo idade n\xe3o pode estar vazio!",ee&&""!==ee||(e.genero="O campo genero n\xe3o pode estar vazio!"),te&&""!==te?te.length>100?e.profissao="O profissao informado \xe9 muito grande!":te.length<3&&(e.profissao="O profissao informado \xe9 muito curto!"):e.profissao="O campo profissao n\xe3o pode estar vazio!",e};function se(){return(se=Object(y.a)(v.a.mark((function t(n){var a,s,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=oe(),!(Object.keys(a).length>0)){t.next=6;break}J(a),t.next=13;break;case 6:return Q(!0),s=c.hasOwnProperty("_id")?"PUT":"POST",c.status=!0===c.status||"ativo"===c.status?"ativo":"inativo",r="".concat(A,"/funcionarios"),t.next=12,fetch(r,{method:s,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){t._id||t.message?q("Registro salvo com sucesso"):q(""),o(e),ae()})).catch((function(e){console.error("Erro ao salvar a categoria: ".concat(e.message))}));case 12:Q(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function re(){return(re=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(A,"/funcionarios/").concat(c._id),e.next=3,fetch(t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.message?q(e.message):q(""),ae()})).catch((function(e){console.error("Erro ao excluir o funcionario: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ie=function(e){o(Object(k.a)(Object(k.a)({},c),{},Object(C.a)({},e.target.name,e.target.value))),J({})};return Object(x.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(x.jsx)(p,{}),Object(x.jsxs)(d.a,{children:[Object(x.jsxs)(l.a,{xs:12,lg:4,children:[Object(x.jsxs)("h4",{children:["\xa0 ",Object(x.jsx)(T.a,{})," Cadastro dos Funcionarios"]}),Object(x.jsxs)(F.a,{method:"post",children:[Object(x.jsxs)(F.a.Group,{controlId:"nome",children:[Object(x.jsx)(F.a.Label,{children:"Nome do funcionario"}),Object(x.jsx)(F.a.Control,{name:"nome",placeholder:"Ex: Jo\xe3o",value:Z,onChange:ie,isInvalid:!!P.nome}),Object(x.jsx)(F.a.Control.Feedback,{type:"invalid",children:P.nome})]}),Object(x.jsxs)(F.a.Group,{controlId:"idade",children:[Object(x.jsx)(F.a.Label,{children:"Idade do funcionario"}),Object(x.jsx)(F.a.Control,{name:"idade",placeholder:"Ex: 22",value:$,onChange:ie,isInvalid:!!P.idade}),Object(x.jsx)(F.a.Control.Feedback,{type:"invalid",children:P.idade})]}),Object(x.jsxs)(F.a.Group,{controlId:"genero",children:[Object(x.jsx)(F.a.Label,{children:"G\xeanero do funcionario"}),Object(x.jsx)(F.a.Control,{name:"genero",placeholder:"Ex: Masculino",value:ee,onChange:ie,isInvalid:!!P.genero}),Object(x.jsx)(F.a.Control.Feedback,{type:"invalid",children:P.genero})]}),Object(x.jsxs)(F.a.Group,{controlId:"profissao",children:[Object(x.jsx)(F.a.Label,{children:"Profiss\xe3o do funcionario"}),Object(x.jsx)(F.a.Control,{name:"profissao",placeholder:"Ex: Motorista",value:te,onChange:ie,isInvalid:!!P.profissao}),Object(x.jsx)(F.a.Control.Feedback,{type:"invalid",children:P.profissao})]}),Object(x.jsx)(F.a.Group,{controlId:"status",children:Object(x.jsx)(F.a.Check,{type:"checkbox",label:"Ativo",name:"status",onChange:function(e){return o(Object(k.a)(Object(k.a)({},c),{},Object(C.a)({},e.target.name,e.target.checked)))},checked:ne})}),Object(x.jsx)(w.a,{variant:"success",type:"submit",onClick:function(e){return function(e){return se.apply(this,arguments)}(e)},title:"Cadastrar",children:K?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(I.a,{animation:"border",size:"sm"})," Aguarde..."]}):Object(x.jsxs)(x.Fragment,{children:[" ",Object(x.jsx)(u.d,{})," Cadastrar novo funcionario"]})})]})]}),Object(x.jsxs)(l.a,{xs:12,lg:8,children:[Object(x.jsxs)("h4",{children:["\xa0 ",Object(x.jsx)(G.a,{})," Listagem dos Funcionarios"]}),m&&Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(w.a,{variant:"success",disabled:!0,children:[Object(x.jsx)(I.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true"}),"Carregando..."]})}),Object(x.jsxs)(S.a,{striped:!0,bordered:!0,children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{className:"bg-dark text-light",children:[Object(x.jsx)("th",{children:"Nome"}),Object(x.jsx)("th",{children:"Idade"}),Object(x.jsx)("th",{children:"Genero"}),Object(x.jsx)("th",{children:"Profiss\xe3o"}),Object(x.jsx)("th",{children:"Status"}),Object(x.jsx)("th",{children:"Inclus\xe3o"}),Object(x.jsx)("th",{children:"Op\xe7\xf5es"})]})}),Object(x.jsxs)("tbody",{children:[i.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.nome}),Object(x.jsx)("td",{children:e.idade}),Object(x.jsx)("td",{children:e.genero}),Object(x.jsx)("td",{children:e.profissao}),Object(x.jsx)("td",{children:e.status}),Object(x.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),Object(x.jsxs)("td",{children:[Object(x.jsx)(w.a,{variant:"success",title:"Editar os registos",children:Object(x.jsx)(z.a,{})}),"\xa0",Object(x.jsx)(w.a,{variant:"danger",title:"Deletar o registro",onClick:function(){Y(!0),o(e)},children:Object(x.jsx)(u.c,{})})]})]},e._id)})),Object(x.jsxs)("tr",{className:"bg-secondary text-light",children:[Object(x.jsx)("td",{colSpan:"6",children:"Total de registos"}),Object(x.jsx)("td",{children:i.length})]})]})]})]})]}),Object(x.jsxs)(N.a,{onClose:function(){return q("")},show:M.length>0,animation:!1,delay:4e3,autohide:!0,className:"bg-warning",style:{position:"absolute",top:10,right:10},children:[Object(x.jsx)(N.a.Header,{closeButton:!1,children:"Aviso"}),Object(x.jsx)(N.a.Body,{children:M})]}),Object(x.jsxs)(L.a,{animation:!1,show:X,onHide:function(){return Y(!1)},children:[Object(x.jsx)(L.a.Header,{children:Object(x.jsx)(L.a.Title,{children:"Confirma\xe7\xe3o da Exclus\xe3o"})}),Object(x.jsx)(L.a.Body,{children:"Confirma a exclus\xe3o do funcionario selecionado?"}),Object(x.jsxs)(L.a.Footer,{children:[Object(x.jsx)(w.a,{variant:"danger",onClick:function(){return Y(!X)},children:"\u274cCancelar"}),Object(x.jsx)(w.a,{variant:"success",onClick:function(){!function(){re.apply(this,arguments)}(),Y(!X)},children:"\u2705Confirmar"})]})]}),Object(x.jsx)(f,{})]})};function D(){return Object(x.jsx)(r.a,{children:Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{exact:!0,path:"/",component:m}),Object(x.jsx)(i.a,{exact:!0,path:"/cadastrosFuncionarios",component:B})]})})}var P=function(){return Object(x.jsx)(D,{})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(P,{})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.c7e3199b.chunk.js.map